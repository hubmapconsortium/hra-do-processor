id: http://purl.humanatlas.io/asct-b/kidney/v1.2
name: asct-b-kidney
prefixes:
  ccf: http://purl.org/ccf/
  owl: http://www.w3.org/2002/07/owl#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  xsd: http://www.w3.org/2001/XMLSchema#
  linkml: https://w3id.org/linkml/

default_prefix: ccf
default_range: string

imports:
  - metadata
  - asct-b

classes:
  Container:
    tree_root: true
    attributes:
      id:
        required: true
        identifier: true
        range: uriorcurie
      metadata:
        range: AsctbMetadata
      data:
        range: AsctbDataset
    annotations:
      owl.template: |-
        AnnotationAssertion( schema:about {{id}} "{{metadata.type}}" )
        AnnotationAssertion( schema:name {{id}} "{{metadata.name}}" )
        AnnotationAssertion( schema:version {{id}} "{{metadata.version}}" )
        AnnotationAssertion( dct:title {{id}} "{{metadata.title}}" )
        AnnotationAssertion( dct:description {{id}} "{{metadata.description}}" )
        {% for c in metadata.creators %}
        AnnotationAssertion( dct:creator {{id}} "{{c.fullName}} ({{c.orcid}})" )
        {% endfor %}
        {% for l in metadata.project_leads %}
        AnnotationAssertion( ccf:project_lead {{id}} "{{l.fullName}} ({{l.orcid}})" )
        {% endfor %}
        {% for r in metadata.reviewers %}
        AnnotationAssertion( schema:reviewedBy {{id}} "{{r.fullName}} ({{r.orcid}})" )
        {% endfor %}
        {% for r in metadata.externalReviewers %}
        AnnotationAssertion( ccf:externallyReviewedBy {{id}} "{{r.fullName}} ({{r.orcid}})" )
        {% endfor %}
        AnnotationAssertion( schema:dateCreated {{id}} "{{metadata.creation_date}}" )
        AnnotationAssertion( dct:license {{id}} "{{metadata.license}}" )
        AnnotationAssertion( dct:publisher {{id}} "{{metadata.publisher}}" )
        {% for f in metadata.funders %}
        AnnotationAssertion( schema:funding {{id}} "Award number {{f.awardNumber}} from {{f.funder}}" )
        {% endfor %}
        AnnotationAssertion( ccf:hubmap_id {{id}} "{{metadata.hubmapId}}" )
        AnnotationAssertion( schema:citation {{id}} "{{metadata.citation}}" )
        AnnotationAssertion( ccf:citation_overall {{id}} "{{metadata.citationOverall}}" )
        {% for d in metadata.datatable %}
        AnnotationAssertion( ccf:data_table {{id}} "{{d}}" )
        {% endfor %}
